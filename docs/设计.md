# 摄影素材工作流

## 原始素材预处理

### 照片文件重命名

对于原始照片，我会将素材拷贝到本地的 `Photograph-local` 目录下，并按照日期（例如 250101）和相册名称进行重命名，这样可以方便后续的管理和查找。

文件结构如下：

```bash
/Users/henryzhu/Photograph-local
└── YYMMDD-相册名称
    ├── DSC08656.ARW
    ├── DSC08657.ARW
    └── ...
```

这些照片需要根据 `YYMMDD-相册名称` 进行重命名，但是这些原始素材可以读取出拍摄日期和时间，因此我会使用 python 并借助 `exiftool` 库来读取 exif 数据，并将文件重命名为 `YYMMDD-相册名称-时间.ARW` 的格式。

例如 `DSC08656.ARW` 可以读取到拍摄日期和时间，然后重命名为 `YYMMDD-相册名称-时间.ARW` 的格式。

这是索尼的格式，你可以从 exif 数据中获取到厂商和型号信息。

我需要定义一个专用于重命名索尼 RAW 文件的类

```python
class BaseProcessor(ABC):
    """处理器基类"""

    def __init__(self):
        self.set_rename_rule()

    def set_rename_rule(self, rule: FilenameRule = FilenameRule.DEFAULT):
        """设置重命名规则"""
        self.rename_rule = rule

class SonyRawProcessor(BaseProcessor):
    """索尼 RAW 文件处理器"""
    def __init__(self, directory: str, album_name: str):
        super().__init__()
        self.directory = directory
        self.album_name = album_name
    def rename_file(self):
        pass
        # return 按照规则进行重命名的格式


class FilenameRule(StrEnum):
    """文件名重命名规则"""

    STANDAERD_DATETIME = "{year}{month:02d}{day:02d}_{hour:02d}{minute:02d}{second:02d}"
    """标准日期格式 YYYYMMDD_HHMMSS"""

    DATE = "{year}{month:02d}{day:02d}"
    """日期格式"""

    TIME = "{hour:02d}{minute:02d}{second:02d}"
    """时间格式"""

    ALBUM = "{album}"
    """相册名"""

    DEFAULT = f"{str(ALBUM)}_{str(TIME)}"
    """默认格式"""

```

### 视频文件重命名
